<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string name="shader_background_vs">
        uniform vec2 uOffset;
        uniform vec2 uAspectRatio;
        attribute vec2 aPosition;
        attribute vec4 aColor;
        varying vec4 vColor;
        varying vec2 vPosition;
        void main() {
            gl_Position = vec4(aPosition, 0.0, 1.0);
            vColor = aColor;
            vPosition = (aPosition + uOffset) * uAspectRatio * 10.0;
        }
    </string>
    <string name="shader_background_fs">
        precision mediump float;
        uniform vec2 uDarkenWidth;
        varying vec4 vColor;
        varying vec2 vPosition;
        void main() {
            gl_FragColor = vColor;
            vec2 f = fract(vPosition);
            if (f.x &lt; uDarkenWidth.x || f.y &lt; uDarkenWidth.y) {
                gl_FragColor.rgb *= 0.98;
            }
        }
    </string>
    <string name="shader_copy_vs">
        attribute vec2 aPosition;
        varying vec2 vTextureCoord;
        void main() {
            gl_Position = vec4(aPosition, 0.0, 1.0);
            vTextureCoord = (gl_Position.xy + 1.0) * 0.5;
        }
    </string>
    <string name="shader_copy_fs">
        precision mediump float;
        uniform sampler2D sTexture;
        uniform float uBrightness;
        varying vec2 vTextureCoord;
        void main() {
            gl_FragColor = texture2D(sTexture, vTextureCoord);
            float brightness = length(vTextureCoord - 0.5) * 1.3;
            gl_FragColor.rgb *= uBrightness - brightness * brightness;
        }
    </string>
    <string name="shader_spline_vs">
        uniform vec2 uControl0;
        uniform vec2 uControl1;
        uniform vec2 uControl2;
        uniform vec2 uControl3;
        uniform vec2 uWidth;
        uniform vec2 uBounds;
        uniform vec2 uAspectRatio;
        attribute vec2 aSplinePos;
        varying vec2 vLineCoord;
        void main() {
            float t = clamp(aSplinePos.x, uBounds.x, uBounds.y);
            vec2 q0 = mix(uControl0, uControl1, t);
            vec2 q1 = mix(uControl1, uControl2, t);
            vec2 q2 = mix(uControl2, uControl3, t);
            vec2 r0 = mix(q0, q1, t);
            vec2 r1 = mix(q1, q2, t);
            
            vec2 pos = mix(r0, r1, t);
            
            vec2 normalVec = r1 - r0;
            normalVec = normalize(vec2(-normalVec.y, normalVec.x));
            
            float width = (uWidth.x + aSplinePos.x * (uWidth.y - uWidth.x)) * 0.5;
            pos += (aSplinePos.y * width) * normalVec * uAspectRatio;
            
            gl_Position = vec4(pos, 0.0, 1.0);
            vLineCoord = aSplinePos;
        }
    </string>
    <string name="shader_spline_fs">
        precision mediump float;
        uniform vec4 uColor;
        varying vec2 vLineCoord;
        void main() {
            gl_FragColor = uColor;
            float a = abs(vLineCoord.y);
            if (a > 0.6) {
                gl_FragColor *= 0.8;
            }
        }
    </string>
    <string name="shader_texture_vs">
        uniform vec2 uAspectRatio;
        uniform vec2 uOffset;
        uniform vec2 uRotation;
        uniform float uScale;
        attribute vec2 aPosition;
        varying vec2 vTextureCoord;
        void main() {
            vec2 pos = vec2(aPosition.x * uRotation.y - aPosition.y * uRotation.x,
                            aPosition.x * uRotation.x + aPosition.y * uRotation.y);
            gl_Position = vec4(pos * uAspectRatio * uScale + uOffset, 0.0, 1.0);
            vTextureCoord = (aPosition.xy + 1.0) * 0.5;
        }
    </string>
    <string name="shader_texture_fs">
        precision mediump float;
        uniform sampler2D sTexture;
        uniform vec4 uColor;
        varying vec2 vTextureCoord;
        void main() {
            gl_FragColor = uColor * texture2D(sTexture, vTextureCoord).r;
        }
    </string>
    <string name="shader_point_vs">
        uniform float uPointSize;
        attribute vec2 aPosition;
        void main() {
            gl_Position = vec4(aPosition, 0.0, 1.0);
            gl_PointSize = uPointSize;
        }
    </string>
    <string name="shader_point_fs">
        precision mediump float;
        uniform vec4 uColor;
        void main() {
            if (length(gl_PointCoord - 0.5) >= 0.5) {
                discard;
            } else {
                gl_FragColor = uColor;
            }
        }
    </string>
</resources>